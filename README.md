# Итоговый проект курса Go developer basic

### _Проект является сервисом, который предоставляет услугу управления задачами._
### В его функционал входят функции по:

- Отображению всех задач с разбивкой по датам
- Добавление новой задачи
- Поиск задач по дате или заголовку с комментарием
- Редактирование задачи
- Уаление задачи
- Завершение задачи с возможностью ее переноса, согласно указанным правилам

## Что реализовано
Все основные задачи + задачи со * (кроме раширенного расчета следующей даты)
Работает все, кроме переноса задач по правилу 'm'
Код для правила написан, но требует доработок

## Организация кода проекта

### Дополнительные библиотеки
	"github.com/go-chi/chi/middleware"
	"github.com/go-chi/chi/v5"
	"github.com/joho/godotenv"
	"github.com/sirupsen/logrus"
    "gorm.io/driver/sqlite"
	"gorm.io/gorm"

# backend
##### Backend 
_Часть проекта (отвечает за обслуживание запросов от frontend) на Go_
##### web 
_Frontend часть проекта (отвечает за UI менеджера и взаимодействие с backend) html+js+css_

### Структура backend

```
backend -
        |-cmd
        |    |-app
        |        |-main.go # Входная точка для запуска менеджера
        |-internal
                 |-database   # Функции по инициализации подключения к БД и создания миграции
                 |-handlers   # Обработчки запросов
                 |-migrations # Файлы для использования миграции
                 |-models     # Описание структур, в том числе для БД
                 |-utils      # Вспомогательные функции и функция по расчету следующей даты
                 |-tests      # Тесты для проекта
       |-.env
       |-Dockerfile
       |-go.mod
       |-go.sum
```

## Инструкция для запуска локально

- Для запуска необходимо наличие gcc (я использовал mingw64 по пути C:\mingw64\bin для WIN, c Linux проблем нет)
- Добавляем в системные переменные и переменные пользователия путь до gcc (C:\mingw64\bin)
- Перезапускаем ОС
- Устанавливаем переменную CGO_ENABLED=1 (go env -w CGO_ENABLED=1)

- Все необходимые переменные уже указаны в файле .env, чувствительных данных в нем нет, он лежит в репозитории вместе с проектом
- Клонируем рапозиторий
- Переходим в папку backend/cmp/app
- ``` go run . ```
- При первом запуске будет автоматически создана БД с нужной таблицей и ее структурой
- В логах можно будет увидеть соответствующее сообщение
- Далее, если все успешно появится лог с успешным стартом сервиса и в нем можно увидеть порт, на котором запустилось приложение
- Если ничего не менять, то порт стандартный :7540
- ``` http://localhost:7540 ```
- Сразу загруpится страница с вводом пароля, нужно ввести стандартный пароль 123/

## Запуск тестов
- Все необходимые настройки уже есть в файле ./tests/settings.go
- После запуска бэкенда нужно запусить тесты
- Перейти в папку backend
- ``` go test -v ./tests ```


## Инструкция для запуска контейнера
0. Перейти в корень проекта
1. ``` docker build -t taskManager:v1 . ```
2. ```  docker run -d -p 7540:7540 --name taskManager taskManager:v1 ```